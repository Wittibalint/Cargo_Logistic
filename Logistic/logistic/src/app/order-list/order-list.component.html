<div>
    <a class="btn btn-secondary" [routerLink]="['/admin']">Back</a>
</div>
<div>
    <button class="btn btn-secondary" style="margin-right: 1%;" (click)="refresh()">Show</button>
    <input type="date" id="select" name="input" [ngModel] ="selectedDate | date:'yyyy-MM-dd'" (ngModelChange)="selectedDate = $event">
    <button class="btn btn-secondary" style="margin-right: 1%;" (click)="refreshDelivered()">Show delivered</button>
</div>


<table class="table" style="max-width: 80%; margin-left: 5%; margin-top: 5%;" *ngIf="orders">
    <thead>
        <tr style="background-color: #1d8abd; text-align:center">
            <th>Id</th>
            <th>From</th>
            <th>To</th>
            <th>RegistryDate</th>
            <th>ShippingDate</th>
            <th>Size</th>
            <th>Weight</th>
            <th>Vehicle</th>
            <th>User</th>
            <th>Email</th>
        </tr>
    </thead>
    <tbody>
        <tr style="background-color: #1dbda2; text-align:center" *ngFor="let order of orders">
            <td>{{order.order.id}}</td>
            <td>{{order.order.transportFrom}} ({{order.order.transportFromX}},{{order.order.transportFromY}})</td>
            <td>{{order.order.transportTo}} ({{order.order.transportToX}},{{order.order.transportToY}})</td>
            <td>{{order.order.registryDate}}</td>
            <td>{{order.order.shippingDate  |  date:'yyyy-MM-dd'}}</td>
            <td>{{order.order.size}}</td>
            <td>{{order.order.weight}}</td>
            <td>{{order.order.vehicleId}}</td>
            <td>{{order.order.userId}}</td>
            <td>{{order.email}}</td>
            <td><button class="btn btn-danger" (click)="deliver(order.order)">Delivered</button></td>
            <td><button class="btn btn-danger" (click)="delete(order.order.id)">Delete</button></td>
            <td><a class="btn btn-warning" [routerLink]="['/admin/order/edit', order.order.id]">Edit</a></td>
        </tr>
    </tbody>
</table>